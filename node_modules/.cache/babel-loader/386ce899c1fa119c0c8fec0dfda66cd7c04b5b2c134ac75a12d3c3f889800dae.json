{"ast":null,"code":"import { createStore } from \"vuex\";\nimport axios from \"axios\";\nconst miniURL = \"https://sixth-zp4e.onrender.com/\";\nexport default createStore({\n  state: {\n    users: null,\n    user: null,\n    products: null,\n    product: null,\n    spinner: null,\n    token: null,\n    selectedProduct: null,\n    msg: null\n  },\n  getters: {},\n  mutations: {\n    setUsers(state, users) {\n      state.users = users;\n    },\n    setUser(state, user) {\n      state.user = user;\n    },\n    setProducts(state, products) {\n      state.products = products;\n    },\n    setSelectedProduct(state, product) {\n      state.selectedProduct = product;\n    },\n    setProduct(state, product) {\n      state.product = product;\n    },\n    setSpinner(state, spinner) {\n      state.spinner = value;\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    setMsg(state, msg) {\n      state.msg = msg;\n    }\n  },\n  actions: {\n    async fetchUsers(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${miniURL}users`);\n        context.commit(\"setUsers\", data.results);\n      } catch (e) {\n        context.commit(\"setMsg\", \"an error occured\");\n      }\n    },\n    async fetchUser(context) {\n      try {\n        const {\n          data\n        } = await axios.get(`${miniURL}user`);\n        context.commit(\"setUser\", data.results);\n      } catch (e) {\n        context.commit(\"setMsg\", \"an error occured\");\n      }\n    },\n    async createUser(context) {\n      try {\n        const {\n          data\n        } = await axios.post(`${miniURL}user`);\n        context.commit(\"setUser\", data.results);\n      } catch (e) {\n        context.commit(\"setMsg\", \"an error occured\");\n      }\n    },\n    async updateUser(context) {\n      try {\n        const {\n          data\n        } = await axios.patch(`${miniURL}user`);\n        context.commit(\"setUser\", data.results);\n      } catch (e) {\n        context.commit(\"setMsg\", \"an error occured\");\n      }\n    },\n    async deleteUser(context) {\n      try {\n        const {\n          data\n        } = await axios.delete(`${miniURL}user`);\n        context.commit(\"setUser\", data.results);\n      } catch (e) {\n        context.commit(\"setMsg\", \"an error occured\");\n      }\n    },\n    async fetchProducts(context) {\n      try {\n        let products = await (await fetch(\"https://sixth-zp4e.onrender.com/products\")).json();\n        if (products) {\n          context.commit(\"setProducts\", products);\n        } else {\n          alert(\"error\");\n        }\n      } catch (e) {\n        console.error(error);\n      }\n    }\n  },\n  async updateProduct(context, payload) {\n    console.log(payload);\n    try {\n      const res = await axios.patch(`${miniURL}product/${payload.product_id}`, payload);\n      const {\n        msg,\n        err\n      } = await res.data;\n      console.log(msg, err);\n      if (err) {\n        console.log(\"An error has occured: \", err);\n        context.commit(\"setMsg\", err);\n      }\n      if (msg) {\n        context.dispatch(\"fetchProducts\");\n        context.commit(\"setProduct\", msg);\n        context.commit(\"setMsg\", \"Successfully updated product.\");\n      }\n    } catch (e) {\n      context.commit(\"setMsg\", e);\n    }\n  },\n  async addProduct(context, payload) {\n    console.log(\"REACHED\");\n    try {\n      const {\n        res\n      } = await axios.post(`${miniURL}product`, payload);\n      const {\n        results,\n        err\n      } = await res.data;\n      if (results) {\n        context.commit(\"setProduct\", results[0]);\n        context.commit(\"setSpinner\", false);\n      } else {\n        context.commit(\"setMsg\", msg);\n      }\n    } catch (e) {\n      context.commit(\"setMsg\", \"an error occured\");\n    }\n  }\n});","map":{"version":3,"names":["createStore","axios","miniURL","state","users","user","products","product","spinner","token","selectedProduct","msg","getters","mutations","setUsers","setUser","setProducts","setSelectedProduct","setProduct","setSpinner","value","setToken","setMsg","actions","fetchUsers","context","data","get","commit","results","e","fetchUser","createUser","post","updateUser","patch","deleteUser","delete","fetchProducts","fetch","json","alert","console","error","updateProduct","payload","log","res","product_id","err","dispatch","addProduct"],"sources":["C:/Users/Administrator/Documents/Node Files/Node_eomp/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\r\nimport axios from \"axios\";\r\nconst miniURL = \"https://sixth-zp4e.onrender.com/\";\r\nexport default createStore({\r\n  state: {\r\n    users: null,\r\n    user: null,\r\n    products: null,\r\n    product: null,\r\n    spinner: null,\r\n    token: null,\r\n    selectedProduct: null,\r\n    msg: null,\r\n  },\r\n  getters: {},\r\n  mutations: {\r\n    setUsers(state, users) {\r\n      state.users = users;\r\n    },\r\n    setUser(state, user) {\r\n      state.user = user;\r\n    },\r\n    setProducts(state, products) {\r\n      state.products = products;\r\n      \r\n    },\r\n    setSelectedProduct(state, product) {\r\n      state.selectedProduct = product\r\n    },\r\n    setProduct(state, product) {\r\n      state.product = product;\r\n    },\r\n    setSpinner(state, spinner) {\r\n      state.spinner = value;\r\n    },\r\n    setToken(state, token) {\r\n      state.token = token;\r\n    },\r\n    setMsg(state, msg) {\r\n      state.msg = msg;\r\n    },\r\n  },\r\n  actions: {\r\n    async fetchUsers(context) {\r\n      try {\r\n        const { data } = await axios.get(`${miniURL}users`);\r\n        context.commit(\"setUsers\", data.results);\r\n      } catch (e) {\r\n        context.commit(\"setMsg\", \"an error occured\");\r\n      }\r\n    },\r\n    async fetchUser(context) {\r\n      try {\r\n        const { data } = await axios.get(`${miniURL}user`);\r\n        context.commit(\"setUser\", data.results);\r\n      } catch (e) {\r\n        context.commit(\"setMsg\", \"an error occured\");\r\n      }\r\n    },\r\n    async createUser(context) {\r\n      try{\r\n        const { data } = await axios.post(`${miniURL}user`)\r\n        context.commit(\"setUser\", data.results);\r\n      } catch (e) {\r\n        context.commit(\"setMsg\", \"an error occured\");\r\n      }\r\n    },\r\n    async updateUser(context) {\r\n      try{\r\n        const { data } = await axios.patch(`${miniURL}user`)\r\n        context.commit(\"setUser\", data.results);\r\n      } catch (e) {\r\n        context.commit(\"setMsg\", \"an error occured\");\r\n      }\r\n    },\r\n    async deleteUser(context) {\r\n      try{\r\n        const { data } = await axios.delete(`${miniURL}user`)\r\n        context.commit(\"setUser\", data.results);\r\n      } catch (e) {\r\n        context.commit(\"setMsg\", \"an error occured\");\r\n      }\r\n    },\r\n    async fetchProducts(context) {\r\n      try{\r\n        let products = await (await fetch(\"https://sixth-zp4e.onrender.com/products\")).json()\r\n        if (products) {\r\n          context.commit (\"setProducts\", products)\r\n        } else {\r\n          alert(\"error\")\r\n        }\r\n      }\r\n      catch(e) {\r\n        console.error(error)\r\n      }\r\n    }\r\n  },\r\n  async updateProduct(context, payload) {\r\n    console.log(payload)\r\n    try {\r\n      const res = await axios.patch(`${miniURL}product/${payload.product_id}`, payload);\r\n      const { msg, err } = await res.data;\r\n      console.log(msg, err);\r\n      if (err) {\r\n        console.log(\"An error has occured: \", err);\r\n        context.commit(\"setMsg\", err);\r\n      }\r\n      if (msg) {\r\n        context.dispatch(\"fetchProducts\")\r\n        context.commit(\"setProduct\", msg);\r\n        context.commit(\"setMsg\", \"Successfully updated product.\");\r\n      }\r\n    } catch (e) {\r\n      context.commit(\"setMsg\", e);\r\n    }\r\n  },\r\n  async addProduct(context, payload) {\r\n    console.log(\"REACHED\");\r\n      try {\r\n        const { res } = await axios.post(`${miniURL}product`, payload);\r\n        const { results, err } = await res.data;\r\n        if (results) {\r\n          context.commit(\"setProduct\", results[0]);\r\n          context.commit(\"setSpinner\", false);\r\n        } else {\r\n          context.commit(\"setMsg\", msg);\r\n        }\r\n      } catch (e) {\r\n        context.commit(\"setMsg\", \"an error occured\");\r\n      }\r\n    },\r\n  },\r\n);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}