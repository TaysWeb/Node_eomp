{"ast":null,"code":"import axios from 'axios';\nimport AddProducts from '../components/AddProduct.vue';\nimport UpdateProducts from '../components/UpdateProducts.vue';\nexport default {\n  components: {\n    AddProducts,\n    UpdateProducts\n  },\n  computed: {\n    users() {\n      return this.$store.state.users;\n    },\n    product() {\n      return this.$store.state.product;\n    },\n    products() {\n      return this.$store.state.products;\n    },\n    user() {\n      return this.$store.state.user;\n    }\n  },\n  mounted() {\n    this.$store.dispatch('fetchProducts');\n    this.$store.dispatch('fetchUsers');\n  },\n  methods: {\n    //   deleteProduct(product_id) {\n\n    //   if (confirm(\"Do you want to delete this product?\")) {\n    //     this.$store.dispatch(\"deleteProduct\", product_id);\n    //   }\n    // },\n    async deleteProduct(product_id) {\n      try {\n        await axios.delete(`https://sixth-zp4e.onrender.com/products/${product_id}`);\n        this.$store.dispatch(\"getProducts\");\n      } catch (err) {\n        alert(err);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","AddProducts","UpdateProducts","components","computed","users","$store","state","product","products","user","mounted","dispatch","methods","deleteProduct","product_id","delete","err","alert"],"sources":["C:\\Users\\Administrator\\Documents\\Node Files\\Node_eomp\\src\\views\\AdminView.vue"],"sourcesContent":["<template>\r\n    <div>\r\n<h1 class=\"text\">Users Table</h1>\r\n<br>\r\n<table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Surname</th>\r\n        <th>Age</th>\r\n        <th>Email Address</th>\r\n        <th>Profile Image</th>\r\n        <th>Action</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody v-for=\"user in users\" :key=\"user\">\r\n      <tr v-if=\"users\">\r\n         <td>{{ user.firstName }}</td>\r\n         <td>{{ user.lastName }}</td>\r\n         <td>{{ user.userAge }}</td>\r\n         <td>{{ user.emailAdd }}</td>\r\n         <td><img :src=\"user.userProfile\" :alt=\"user.firstName\" loading=\"lazy\" class=\"img-fluid image\"></td>\r\n         <td><button class=\"edit\">edit</button><button class=\"del\">delete</button></td>\r\n      </tr>\r\n      <tr v-else>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n<h1 class=\"text\">Products Table</h1>\r\n<AddProducts />\r\n<table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <th>ID</th>\r\n        <th>name</th>\r\n        <th>category</th>\r\n        <th>product image</th>\r\n        <th>price</th>\r\n        <th>Action</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody v-for=\"product of products\" :key=\"product\">\r\n      <tr v-if=\"product\">\r\n        <td>{{ product.product_id}}</td>\r\n        <td>{{ product.product_name }}</td>\r\n        <td>{{ product.product_category }}</td>\r\n        <td><img :src=\"product.product_image\" :alt=\"product.product_name\" class=\"img-fluid image\" loading=\"lazy\"></td>\r\n        <td>R {{ product.product_price }}</td>\r\n        <td>\r\n          <UpdateProducts :product=\"product\"/>\r\n              <!-- <button class=\"edit\">edit</button> -->\r\n              <button @click=\"deleteProduct(product.product_id)\" class=\"del\">\r\n                delete\r\n              </button>\r\n            </td>\r\n      </tr>\r\n      <tr v-else>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport AddProducts from '../components/AddProduct.vue';\r\nimport UpdateProducts from '../components/UpdateProducts.vue'\r\n    export default {\r\n      components:{\r\n        AddProducts,\r\n        UpdateProducts\r\n      },\r\n        computed: {\r\n          users() {\r\n      return this.$store.state.users;\r\n    },\r\n    product() {\r\n      return this.$store.state.product;\r\n    },\r\n    products(){\r\n      return this.$store.state.products\r\n    },\r\n    user(){\r\n      return this.$store.state.user\r\n    }\r\n  },\r\n    mounted() {\r\n        this.$store.dispatch('fetchProducts')\r\n        this.$store.dispatch('fetchUsers')\r\n    },\r\n    methods:{\r\n    //   deleteProduct(product_id) {\r\n        \r\n    //   if (confirm(\"Do you want to delete this product?\")) {\r\n    //     this.$store.dispatch(\"deleteProduct\", product_id);\r\n    //   }\r\n    // },\r\n    async deleteProduct(product_id) {\r\n      try {\r\n        await axios.delete(`https://sixth-zp4e.onrender.com/products/${product_id}`);\r\n        this.$store.dispatch(\"getProducts\");\r\n      } catch (err) {\r\n        alert(err);\r\n      }\r\n    },\r\n    }\r\n    }\r\n</script>\r\n<style scoped>\r\nbody{\r\n  overflow-x: hidden;\r\n}\r\nimg{\r\n   width: 7rem;\r\n}\r\n.del{\r\n    width: 4rem;\r\n    border-radius: 5px;\r\n    background-color: rgb(255, 129, 129);\r\n}\r\n.text{\r\n  color: white;\r\n}\r\n</style>\r\n"],"mappings":"AA+DA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,WAAU,MAAO,8BAA8B;AACtD,OAAOC,cAAa,MAAO,kCAAiC;AACxD,eAAe;EACbC,UAAU,EAAC;IACTF,WAAW;IACXC;EACF,CAAC;EACCE,QAAQ,EAAE;IACRC,KAAKA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,KAAK;IAChC,CAAC;IACDG,OAAOA,CAAA,EAAG;MACR,OAAO,IAAI,CAACF,MAAM,CAACC,KAAK,CAACC,OAAO;IAClC,CAAC;IACDC,QAAQA,CAAA,EAAE;MACR,OAAO,IAAI,CAACH,MAAM,CAACC,KAAK,CAACE,QAAO;IAClC,CAAC;IACDC,IAAIA,CAAA,EAAE;MACJ,OAAO,IAAI,CAACJ,MAAM,CAACC,KAAK,CAACG,IAAG;IAC9B;EACF,CAAC;EACCC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACL,MAAM,CAACM,QAAQ,CAAC,eAAe;IACpC,IAAI,CAACN,MAAM,CAACM,QAAQ,CAAC,YAAY;EACrC,CAAC;EACDC,OAAO,EAAC;IACR;;IAEA;IACA;IACA;IACA;IACA,MAAMC,aAAaA,CAACC,UAAU,EAAE;MAC9B,IAAI;QACF,MAAMf,KAAK,CAACgB,MAAM,CAAE,4CAA2CD,UAAW,EAAC,CAAC;QAC5E,IAAI,CAACT,MAAM,CAACM,QAAQ,CAAC,aAAa,CAAC;MACrC,EAAE,OAAOK,GAAG,EAAE;QACZC,KAAK,CAACD,GAAG,CAAC;MACZ;IACF;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}