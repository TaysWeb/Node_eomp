"use strict";(self["webpackChunkmini_e_com2"]=self["webpackChunkmini_e_com2"]||[]).push([[916],{2916:function(t,e,d){d.r(e),d.d(e,{default:function(){return lt}});var l=d(3396),o=d(7139);const a=t=>((0,l.dD)("data-v-7d33670a"),t=t(),(0,l.Cn)(),t),r=a((()=>(0,l._)("h1",{class:"text"},"Users Table",-1))),u=a((()=>(0,l._)("br",null,null,-1))),c={class:"table"},n=a((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Name"),(0,l._)("th",null,"Surname"),(0,l._)("th",null,"Age"),(0,l._)("th",null,"Email Address"),(0,l._)("th",null,"Profile Image"),(0,l._)("th",null,"Action")])],-1))),s={key:0},i=["src","alt"],p=a((()=>(0,l._)("td",null,[(0,l._)("button",{class:"edit"},"edit"),(0,l._)("button",{class:"del"},"delete")],-1))),_={key:1},m=a((()=>(0,l._)("h1",{class:"text"},"Products Table",-1))),g={class:"table"},b=a((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"ID"),(0,l._)("th",null,"name"),(0,l._)("th",null,"category"),(0,l._)("th",null,"product image"),(0,l._)("th",null,"price"),(0,l._)("th",null,"Action")])],-1))),h={key:0},y=["src","alt"],P=["onClick"],w={key:1};function v(t,e,d,a,v,f){const x=(0,l.up)("AddProducts"),D=(0,l.up)("UpdateProducts");return(0,l.wg)(),(0,l.iD)("div",null,[r,u,(0,l._)("table",c,[n,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.users,(t=>((0,l.wg)(),(0,l.iD)("tbody",{key:t},[f.users?((0,l.wg)(),(0,l.iD)("tr",s,[(0,l._)("td",null,(0,o.zw)(t.firstName),1),(0,l._)("td",null,(0,o.zw)(t.lastName),1),(0,l._)("td",null,(0,o.zw)(t.userAge),1),(0,l._)("td",null,(0,o.zw)(t.emailAdd),1),(0,l._)("td",null,[(0,l._)("img",{src:t.userProfile,alt:t.firstName,loading:"lazy",class:"img-fluid image"},null,8,i)]),p])):((0,l.wg)(),(0,l.iD)("tr",_))])))),128))]),m,(0,l.Wm)(x),(0,l._)("table",g,[b,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.products,(t=>((0,l.wg)(),(0,l.iD)("tbody",{key:t},[t?((0,l.wg)(),(0,l.iD)("tr",h,[(0,l._)("td",null,(0,o.zw)(t.product_id),1),(0,l._)("td",null,(0,o.zw)(t.product_name),1),(0,l._)("td",null,(0,o.zw)(t.product_category),1),(0,l._)("td",null,[(0,l._)("img",{src:t.product_image,alt:t.product_name,class:"img-fluid image",loading:"lazy"},null,8,y)]),(0,l._)("td",null,"R "+(0,o.zw)(t.product_price),1),(0,l._)("td",null,[(0,l.Wm)(D,{product:t},null,8,["product"]),(0,l._)("button",{onClick:e=>f.deleteProduct(t.product_id),class:"del"}," delete ",8,P)])])):((0,l.wg)(),(0,l.iD)("tr",w))])))),128))])])}var f=d(4161),x=d(9242);const D=t=>((0,l.dD)("data-v-c5e169f2"),t=t(),(0,l.Cn)(),t),k=D((()=>(0,l._)("button",{type:"button",class:"btn text-white","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," add product ",-1))),C={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},z={class:"modal-dialog"},U={class:"modal-content"},$=D((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"New Product"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),M={class:"modal-body"},A={class:"modal-footer"},V=D((()=>(0,l._)("button",{type:"button",class:"btn","data-bs-dismiss":"modal"}," Close ",-1)));function I(t,e,d,o,a,r){return(0,l.wg)(),(0,l.iD)("div",null,[k,(0,l._)("div",C,[(0,l._)("div",z,[(0,l._)("div",U,[$,(0,l._)("div",M,[(0,l.wy)((0,l._)("input",{placeholder:"product Name",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.model.product.product_name=t),required:""},null,512),[[x.nr,a.model.product.product_name]]),(0,l.wy)((0,l._)("input",{placeholder:"amount",type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>a.model.product.product_price=t),required:""},null,512),[[x.nr,a.model.product.product_price]]),(0,l.wy)((0,l._)("input",{placeholder:"category",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>a.model.product.product_category=t),required:""},null,512),[[x.nr,a.model.product.product_category]]),(0,l.wy)((0,l._)("input",{placeholder:"product image",type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>a.model.product.product_image=t),required:""},null,512),[[x.nr,a.model.product.product_image]])]),(0,l._)("div",A,[V,(0,l._)("button",{type:"button",class:"btn",onClick:e[4]||(e[4]=(...t)=>r.addProduct&&r.addProduct(...t))}," Save changes ")])])])])])}var N={data(){return{model:{product:{product_name:"",product_price:"",product_category:"",product_image:""}}}},methods:{addProduct(){f.Z.post("https://sixth-zp4e.onrender.com/products",this.model.product).then((t=>{console.log("Product added:",t.data),this.$emit("ToggleModal")})).catch((t=>{console.error("Error adding product:",t),alert("An error occurred while adding the product.")}))}}},E=d(89);const Z=(0,E.Z)(N,[["render",I],["__scopeId","data-v-c5e169f2"]]);var q=Z;const L=t=>((0,l.dD)("data-v-bc51a56e"),t=t(),(0,l.Cn)(),t),S=["data-bs-target"],T=["id","aria-labelledby"],H={class:"modal-dialog"},K={class:"modal-content"},W=L((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"}," Edit Product "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Y={class:"modal-body"},R=L((()=>(0,l._)("label",null,"Product name:",-1))),j=L((()=>(0,l._)("label",null,"Product price:",-1))),B=L((()=>(0,l._)("label",null,"Product category:",-1))),F=L((()=>(0,l._)("label",null,"Product image:",-1))),G={class:"modal-footer"},J=L((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1)));function O(t,e,d,o,a,r){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("button",{type:"button",class:"btn",onClick:e[0]||(e[0]=t=>r.openEditModal(d.product.product_id)),"data-bs-toggle":"modal","data-bs-target":"#exampleModal"+d.product.product_id}," edit ",8,S),(0,l._)("div",{class:"modal fade",id:"exampleModal"+d.product.product_id,tabindex:"-1","aria-labelledby":"exampleModalLabel"+d.product.product_id,"aria-hidden":"true"},[(0,l._)("div",H,[(0,l._)("div",K,[W,(0,l._)("div",Y,[R,(0,l.wy)((0,l._)("input",{placeholder:"name",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>a.editingProduct.product_name=t)},null,512),[[x.nr,a.editingProduct.product_name]]),j,(0,l.wy)((0,l._)("input",{placeholder:"price",type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>a.editingProduct.product_price=t)},null,512),[[x.nr,a.editingProduct.product_price]]),B,(0,l.wy)((0,l._)("input",{placeholder:"category",type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>a.editingProduct.product_category=t)},null,512),[[x.nr,a.editingProduct.product_category]]),F,(0,l.wy)((0,l._)("input",{placeholder:"image",type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>a.editingProduct.product_image=t)},null,512),[[x.nr,a.editingProduct.product_image]])]),(0,l._)("div",G,[J,(0,l._)("button",{type:"button",class:"btn",onClick:e[5]||(e[5]=t=>r.updateProduct(d.product.product_id))}," Save changes ")])])])],8,T)])}var Q={props:["product"],data(){return{editingProduct:{...this.product},editingProductID:null,model:{product:{product_name:"",product_price:0,product_price:"",product_category:"",product_image:""}}}},computed:{currentProduct(){return this.$store.state.product}},methods:{openEditModal(t){this.editingProductID=t,this.editingProduct={...this.$store.state.products.find((e=>e.product_id===t))}},updateProduct(t){this.$store.dispatch("updateProduct",{product_id:t,...this.editingProduct})}}};const X=(0,E.Z)(Q,[["render",O],["__scopeId","data-v-bc51a56e"]]);var tt=X,et={components:{AddProducts:q,UpdateProducts:tt},computed:{users(){return this.$store.state.users},product(){return this.$store.state.product},products(){return this.$store.state.products},user(){return this.$store.state.user}},mounted(){this.$store.dispatch("fetchProducts"),this.$store.dispatch("fetchUsers")},methods:{async deleteProduct(t){try{await f.Z.delete(`https://sixth-zp4e.onrender.com/products/${t}`),this.$store.dispatch("getProducts")}catch(e){alert(e)}}}};const dt=(0,E.Z)(et,[["render",v],["__scopeId","data-v-7d33670a"]]);var lt=dt}}]);
//# sourceMappingURL=916.756833e0.js.map